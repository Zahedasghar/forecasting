<!DOCTYPE html>
<html lang="en"><head>
<script src="Learn basics of R_files/libs/clipboard/clipboard.min.js"></script>
<script src="Learn basics of R_files/libs/quarto-html/tabby.min.js"></script>
<script src="Learn basics of R_files/libs/quarto-html/popper.min.js"></script>
<script src="Learn basics of R_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="Learn basics of R_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Learn basics of R_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="Learn basics of R_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.0.38">

  <meta name="author" content="Zahid Asghar">
  <meta name="dcterms.date" content="2022-09-26">
  <title>Learn basics of R workshop KPRA</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="Learn basics of R_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="Learn basics of R_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
  <link rel="stylesheet" href="Learn basics of R_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <link href="Learn basics of R_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="Learn basics of R_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="Learn basics of R_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="Learn basics of R_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="center">
  <h1 class="title">Learn basics of R workshop KPRA</h1>
  <p class="author">Zahid Asghar</p>
  <p class="date">26 September 2022</p>
</section>

<section id="outline" class="slide level2 right top" data-background-color="NA">
<h2>Outline <img data-src="usaid-kp.png" data-fig-align="right" width="500" height="150"></h2>
<ul>
<li>Introduction to R and RStudio</li>
<li>Reproducible data analysis with R Markdown</li>
<li>Loading data</li>
<li>Data visualization</li>
<li>Data wrangling</li>
<li>Basic R syntax</li>
<li>What next?</li>
<li>Hands on exercises</li>
</ul>
</section>
<section id="materials" class="slide level2 centered" data-background-color="NA">
<h2>Materials</h2>
<ul>
<li>All source code are taken from https://github.com/mine-cetinkaya-rundel/rworkshop-mem</li>
</ul>
</section>
<section>
<section id="introduction-to-r-and-rstudio" class="title-slide slide level1 centered center" data-background-color="NA">
<h1>Introduction to R and RStudio</h1>

</section>
<section id="what-is-r-and-rstudio" class="slide level2">
<h2>What is R and RStudio</h2>
<ul>
<li><p><strong>R:</strong> Statistical programming language</p></li>
<li><p><strong>RStudio:</strong></p>
<ul>
<li>Integtrated development environment for R</li>
<li>Powerful and productive user interface for R</li>
</ul></li>
<li><p>Both are free and open-source</p></li>
</ul>
</section>
<section id="getting-started" class="slide level2">
<h2>Getting started</h2>
<ul>
<li><p>Traditionally you would install R and RStudio on your computer</p></li>
<li><p>Local installation instructions will be provided at the end of the workshop</p></li>
</ul>
</section>
<section id="anatomy-of-rstudio" class="slide level2">
<h2>Anatomy of RStudio</h2>
<ul>
<li>Left: Console
<ul>
<li>Text on top at launch: version of R that you’re running</li>
<li>Below that is the prompt</li>
</ul></li>
<li>Upper right: Workspace and command history</li>
<li>Lower right: Plots, access to files, help, packages, data viewer</li>
</ul>
</section>
<section id="r-splash-screen" class="slide level2 centered center middle" data-background-color="NA">
<h2><img data-src="RSplashscreen.jpg" data-fig-align="center" width="1300" height="750" alt="R Splash Screen"></h2>
</section>
<section id="what-version-am-i-using" class="slide level2">
<h2>What version am I using?</h2>
<ul>
<li><p>The version of R is text that pops up in the Console when you start RStudio</p></li>
<li><p>To find out the version of RStudio go to Help <span class="math inline">\(\rightarrow\)</span> About RStudio</p></li>
<li><p>It’s good practice to keep both R and RStudio up to date</p></li>
</ul>
</section>
<section id="r-packages" class="slide level2 smaller">
<h2>R packages</h2>
<ul>
<li><p>Packages are the fundamental units of reproducible R code. They include reusable R functions, the documentation that describes how to use them, and (often) sample data. <a href="http://r-pkgs.had.co.nz">From</a></p></li>
<li><p>We will use the <code>ggplot2</code> package for plots and <code>dplyr</code> for data wrangling in this workshop</p></li>
<li><p>Install these packages by running the following in the Console:</p></li>
</ul>
<div class="cell">

</div>
<ul>
<li>Then, load the packages by running the following:</li>
</ul>
<div class="cell">

</div>
<ul>
<li>This is just one way of installing a package, there is also a GUI approach in the Packages pane in RStudio</li>
</ul>
</section></section>
<section>
<section id="reproducible-data-analysis-with-quarto" class="title-slide slide level1 center">
<h1>Reproducible data analysis with Quarto</h1>

</section>
<section id="what-is-quarto" class="slide level2">
<h2>What is Quarto?</h2>
<ul>
<li><p>Quarto is an authoring format that enables easy creation of dynamic documents, presentations, and reports from R/Python/Julia.</p></li>
<li><p>It combines the core syntax of markdown (an easy-to-write plain text format) with embedded R code chunks that are run so their output can be included in the final document.</p></li>
<li><p>Quarto documents are fully <strong>reproducible</strong> (they can be automatically regenerated whenever underlying R/Python/Julia code or data changes).</p></li>
</ul>
<p><a href="http://quarto.pub/">Source</a></p>
</section>
<section id="your-turn" class="slide level2">
<h2>Your turn!</h2>
<p>Create your first Quarto document, knit it, and examine the source code and the output.</p>
<ol type="1">
<li><p>File <span class="math inline">\(\rightarrow\)</span> Quarto Document…</p></li>
<li><p>Enter a title (e.g.&nbsp;“My first Quarto document”) and author info</p></li>
<li><p>Choose Document as file type, and HTML as the output</p></li>
<li><p>Hit OK</p></li>
<li><p>Click Knit HTML in the new document, which will prompt you to save your document</p>
<ul>
<li>Naming tip: Do not use spaces</li>
<li>Viewing tip: Click on the down arrow next to Knit HTML and select View in Pane</li>
</ul></li>
</ol>
</section></section>
<section>
<section id="quarto-basics" class="title-slide slide level1 smaller center">
<h1>Quarto basics</h1>

</section>
<section id="r-code-chunks" class="slide level2 smaller">
<h2>R Code Chunks</h2>
<p>Within an R Markdown file, R Code Chunks can be embedded using the native Markdown syntax for fenced code regions.</p>

<img data-src="codechunk.png" class="r-stretch quarto-figure-center"><p class="caption">Code chunks</p></section>
<section id="your-turn-1" class="slide level2">
<h2>Your turn!</h2>
<p>How many code chunks are in your R Markdown document?</p>
<p>What does each code chunk do? You may not understand the R syntax yet, but you should be able to compare the source file and the output to answer this question.</p>
</section>
<section id="inline-r-code" class="slide level2">
<h2>Inline R Code</h2>
<p>You can also evaluate R expressions inline by enclosing the expression within a single back-tick qualified with <code>r</code>. For example, the following code: I counted 2 trucks on highway.</p>
<p>Results in this output: “I counted 2 red trucks on the highway.”</p>
</section>
<section id="your-turn-2" class="slide level2">
<h2>Your turn!</h2>
<p>Suppose Sammy works on average 8.37 hours per day, 5 days per week. How many hours does Sammy work on average per week?</p>
<p>Add a sentence to your document that includes simple inline R code that answers this question, along the lines of…</p>
<p>“Sammy works 8.37 * 5 hours per week, on average.”</p>
</section>
<section id="workspaces" class="slide level2">
<h2>Workspaces</h2>
<p>R Markdown workspace and Console workspace are independent of each other</p>
<ul>
<li><p>If you define a variable in your Console and it shows up in the Environment tab, it is not going to be automatically included in your R Markdown document</p></li>
<li><p>If you define a variable in your R Markdown document, it won’t automatically be available in your Console</p></li>
</ul>
<p>[ Demo ]</p>
<p><strong>Tip:</strong> Use the <em>Run all previous chunks</em> in the source file and <em>Run current chunk code</em> functionality in the buttons in each code chunk to help manage workspaces.</p>
</section>
<section id="workspaces-and-reproducibilty" class="slide level2">
<h2>Workspaces and reproducibilty</h2>
<ul>
<li><p>The fact that the two workspaces do not automatically have access to the same variables might / will be frustrating at first.</p></li>
<li><p>But this is not a bug, in fact, it’s a functionality that helps reproducibility, as it ensures that all variables, functions, etc. that are being used in the R Markdown document are explicitly defined or loaded.</p></li>
</ul>
</section>
<section id="your-turn-3" class="slide level2 smaller">
<h2>Your turn!</h2>
<ol type="1">
<li><p>Define <code>x = 2</code> in the Console. Then, in your Console run <code>x * 3</code>. Does your code run as expected?</p></li>
<li><p>Now, insert a new code chunk in your R Markdown document and in this chunk type <code>x * 3</code> only. Knit your document. Does the document compile, or do you get an error? If you get an error, what does the error say, and how can you fix it? Implement the fix and Knit your document. Make sure you are able to compile without errors before you move on.</p></li>
</ol>
<p><strong>Tip:</strong> Insert a new code chunk bu clicking Chunks <span class="math inline">\(\rightarrow\)</span> Insert Chunk.</p>
<ol start="3" type="1">
<li><p>Next insert another code chunk in your R Markdown document and define <code>y = 4</code> and calculate <code>y + 5</code>. Knit your document. Does everything work as expected?</p></li>
<li><p>Now run <code>y + 5</code> in your Console. Does your code run as expected or do you get an error? If you get an error, what does the error say, and how can you fix it? Implement the fix.</p></li>
</ol>
</section>
<section id="code-chunk-options" class="slide level2">
<h2>Code chunk options</h2>
<ul>
<li><p>You can hide the code, hide the result, hide warnings, messages, etc.</p></li>
<li><p>Refer to the handy R Markdown <a href="https://www.rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf">cheatsheet</a></p></li>
<li><p>Another good reference: http://rmarkdown.rstudio.com/authoring_rcodechunks.html</p></li>
</ul>
</section></section>
<section>
<section id="loading-data" class="title-slide slide level1 center">
<h1>Loading data</h1>

</section>
<section id="nc-dot-fatal-crashes-in-north-carolina" class="slide level2 smaller">
<h2>NC DOT Fatal Crashes in North Carolina</h2>
<div class="cell">

</div>
<p>View the names of variables via</p>
<div class="cell">
<pre><code>##  [1] "...1"                 "object_id"            "city"                
##  [4] "county"               "region"               "development"         
##  [7] "locality"             "on_road"              "rural_urban"         
## [10] "speed_limit"          "traffic_control"      "weather"             
## [13] "workzone"             "bike_age"             "bike_age_group"      
## [16] "bike_alcohol"         "bike_alcohol_drugs"   "bike_direction"      
## [19] "bike_injury"          "bike_position"        "bike_race"           
## [22] "bike_sex"             "driver_age"           "driver_age_group"    
## [25] "driver_alcohol"       "driver_alcohol_drugs" "driver_est_speed"    
## [28] "driver_injury"        "driver_race"          "driver_sex"          
## [31] "driver_vehicle_type"  "crash_alcohol"        "crash_date"          
## [34] "crash_day"            "crash_group"          "crash_hour"          
## [37] "crash_location"       "crash_month"          "crash_severity"      
## [40] "crash_time"           "crash_type"           "crash_year"          
## [43] "ambulance_req"        "hit_run"              "light_condition"     
## [46] "road_character"       "road_class"           "road_condition"      
## [49] "road_configuration"   "road_defects"         "road_feature"        
## [52] "road_surface"         "num_bikes_ai"         "num_bikes_bi"        
## [55] "num_bikes_ci"         "num_bikes_ki"         "num_bikes_no"        
## [58] "num_bikes_to"         "num_bikes_ui"         "num_lanes"           
## [61] "num_units"            "distance_mi_from"     "frm_road"            
## [64] "rte_invd_cd"          "towrd_road"</code></pre>
</div>
<p>and see detailed descriptions at https://stat.duke.edu/~mc301/data/nc_bike_crash.html.</p>
</section>
<section id="aside-strings-characters-vs-factors" class="slide level2">
<h2>Aside: Strings (characters) vs factors</h2>
<ul>
<li><p>By default R will convert character vectors into factors when they are included in a data frame.</p></li>
<li><p>Sometimes this is useful, sometimes it isn’t – either way it is important to know what type/class you are working with.</p></li>
<li><p>This behavior can be changed using the <code>stringsAsFactors = FALSE</code> when loading a data drame.</p></li>
</ul>
</section>
<section id="viewing-your-data" class="slide level2 smaller">
<h2>Viewing your data</h2>
<ul>
<li><p>In the Environment, click on the name of the data frame to view it in the data viewer</p></li>
<li><p>Use the <code>str()</code> function to compactly display the internal <strong>str</strong>ucture of an R object</p></li>
</ul>
<div class="cell">
<pre><code>## tibble [7,467 × 65] (S3: tbl_df/tbl/data.frame)
##  $ ...1                : num [1:7467] 1 2 3 4 5 6 7 8 9 10 ...
##  $ object_id           : num [1:7467] 1686 1674 1673 1687 1653 ...
##  $ city                : chr [1:7467] "None - Rural Crash" "Henderson" "None - Rural Crash" "Whiteville" ...
##  $ county              : chr [1:7467] "Wayne" "Vance" "Lincoln" "Columbus" ...
##  $ region              : chr [1:7467] "Coastal" "Piedmont" "Piedmont" "Coastal" ...
##  $ development         : chr [1:7467] "Farms, Woods, Pastures" "Residential" "Farms, Woods, Pastures" "Commercial" ...
##  $ locality            : chr [1:7467] "Rural (&lt;30% Developed)" "Mixed (30% To 70% Developed)" "Rural (&lt;30% Developed)" "Urban (&gt;70% Developed)" ...
##  $ on_road             : chr [1:7467] "SR 1915" "NICHOLAS ST" "US 321" "W BURKHEAD ST" ...
##  $ rural_urban         : chr [1:7467] "Rural" "Urban" "Rural" "Urban" ...
##  $ speed_limit         : chr [1:7467] "50 - 55  MPH" "30 - 35  MPH" "50 - 55  MPH" "30 - 35  MPH" ...
##  $ traffic_control     : chr [1:7467] "No Control Present" "Stop Sign" "Double Yellow Line, No Passing Zone" "No Control Present" ...
##  $ weather             : chr [1:7467] "Clear" "Clear" "Clear" "Rain" ...
##  $ workzone            : chr [1:7467] "No" "No" "No" "No" ...
##  $ bike_age            : num [1:7467] 52 66 33 52 22 15 41 14 16 54 ...
##  $ bike_age_group      : chr [1:7467] "50-59" "60-69" "30-39" "50-59" ...
##  $ bike_alcohol        : chr [1:7467] "No" "No" "No" "Yes" ...
##  $ bike_alcohol_drugs  : chr [1:7467] NA NA NA NA ...
##  $ bike_direction      : chr [1:7467] "With Traffic" "With Traffic" "With Traffic" NA ...
##  $ bike_injury         : chr [1:7467] "B: Evident Injury" "C: Possible Injury" "C: Possible Injury" "C: Possible Injury" ...
##  $ bike_position       : chr [1:7467] "Bike Lane / Paved Shoulder" "Travel Lane" "Travel Lane" NA ...
##  $ bike_race           : chr [1:7467] "Black" "Black" "White" "Black" ...
##  $ bike_sex            : chr [1:7467] "Male" "Male" "Male" "Male" ...
##  $ driver_age          : num [1:7467] 34 NA 37 55 25 17 NA 50 32 69 ...
##  $ driver_age_group    : chr [1:7467] "30-39" NA "30-39" "50-59" ...
##  $ driver_alcohol      : chr [1:7467] "No" "Missing" "No" "No" ...
##  $ driver_alcohol_drugs: chr [1:7467] NA NA NA NA ...
##  $ driver_est_speed    : chr [1:7467] "51-55 mph" "6-10 mph" "41-45 mph" "11-15 mph" ...
##  $ driver_injury       : chr [1:7467] "O: No Injury" "Unknown Injury" "O: No Injury" "O: No Injury" ...
##  $ driver_race         : chr [1:7467] "White" "Unknown/Missing" "Hispanic" "Black" ...
##  $ driver_sex          : chr [1:7467] "Male" NA "Female" "Male" ...
##  $ driver_vehicle_type : chr [1:7467] "Single Unit Truck (2-Axle, 6-Tire)" NA "Passenger Car" "Passenger Car" ...
##  $ crash_alcohol       : chr [1:7467] "No" "No" "No" "Yes" ...
##  $ crash_date          : chr [1:7467] "11DEC2013" "20NOV2013" "03NOV2013" "14DEC2013" ...
##  $ crash_day           : chr [1:7467] "Wednesday" "Wednesday" "Sunday" "Saturday" ...
##  $ crash_group         : chr [1:7467] "Motorist Overtaking Bicyclist" "Bicyclist Failed to Yield - Sign-Controlled Intersection" "Motorist Overtaking Bicyclist" "Bicyclist Failed to Yield - Signalized Intersection" ...
##  $ crash_hour          : num [1:7467] 6 20 18 18 13 17 17 7 15 2 ...
##  $ crash_location      : chr [1:7467] "Non-Intersection" "Intersection" "Non-Intersection" "Intersection" ...
##  $ crash_month         : chr [1:7467] "December" "November" "November" "December" ...
##  $ crash_severity      : chr [1:7467] "B: Evident Injury" "C: Possible Injury" "C: Possible Injury" "C: Possible Injury" ...
##  $ crash_time          : num [1:7467] 22200 74460 65100 66840 48420 ...
##  $ crash_type          : chr [1:7467] "Motorist Overtaking - Undetected Bicyclist" "Bicyclist Ride Out - Sign-Controlled Intersection" "Motorist Overtaking - Undetected Bicyclist" "Bicyclist Ride Out - Signalized  Intersection" ...
##  $ crash_year          : num [1:7467] 2013 2013 2013 2013 2013 ...
##  $ ambulance_req       : chr [1:7467] "Yes" "No" "Yes" "Yes" ...
##  $ hit_run             : chr [1:7467] "No" "Yes" "No" "No" ...
##  $ light_condition     : chr [1:7467] "Dark - Roadway Not Lighted" NA "Dark - Roadway Not Lighted" "Dark - Lighted Roadway" ...
##  $ road_character      : chr [1:7467] "Straight - Level" "Straight - Level" "Straight - Grade" "Straight - Level" ...
##  $ road_class          : chr [1:7467] "State Secondary Route" "Local Street" "US Route" "Local Street" ...
##  $ road_condition      : chr [1:7467] "Dry" "Dry" "Dry" "Water (Standing, Moving)" ...
##  $ road_configuration  : chr [1:7467] "Two-Way, Not Divided" "Two-Way, Divided, Unprotected Median" "Two-Way, Not Divided" "Two-Way, Not Divided" ...
##  $ road_defects        : chr [1:7467] "None" NA "None" "None" ...
##  $ road_feature        : chr [1:7467] "No Special Feature" "T-Intersection" "No Special Feature" "No Special Feature" ...
##  $ road_surface        : chr [1:7467] "Coarse Asphalt" "Smooth Asphalt" "Smooth Asphalt" "Coarse Asphalt" ...
##  $ num_bikes_ai        : num [1:7467] 0 0 0 0 0 0 0 0 0 0 ...
##  $ num_bikes_bi        : num [1:7467] 0 0 0 0 0 0 0 0 0 0 ...
##  $ num_bikes_ci        : num [1:7467] 0 0 0 0 0 0 0 0 0 0 ...
##  $ num_bikes_ki        : num [1:7467] 0 0 0 0 0 0 0 0 0 0 ...
##  $ num_bikes_no        : num [1:7467] 0 0 0 0 0 0 0 0 0 0 ...
##  $ num_bikes_to        : num [1:7467] 0 0 0 0 0 0 0 0 0 0 ...
##  $ num_bikes_ui        : num [1:7467] 0 0 0 0 0 0 0 0 0 0 ...
##  $ num_lanes           : chr [1:7467] "2 lanes" "2 lanes" "2 lanes" "1 lane" ...
##  $ num_units           : num [1:7467] 2 2 2 2 2 2 2 2 2 2 ...
##  $ distance_mi_from    : num [1:7467] 0 0 0 0 0 0 0 0 0 0 ...
##  $ frm_road            : chr [1:7467] NA NA NA NA ...
##  $ rte_invd_cd         : num [1:7467] 0 0 0 0 0 0 0 0 0 0 ...
##  $ towrd_road          : chr [1:7467] NA NA NA NA ...</code></pre>
</div>
</section></section>
<section>
<section id="data-visualization" class="title-slide slide level1 center">
<h1>Data visualization</h1>

</section>
<section id="data-visualization-in-r" class="slide level2">
<h2>Data visualization in R</h2>
<ul>
<li><p>Using base R functions</p></li>
<li><p>Using the <code>ggplot2</code> package <span class="math inline">\(\leftarrow\)</span> our focus today</p></li>
<li><p>Using a variety of other packages like <code>lattice</code>, <code>ggvis</code>, etc.</p></li>
</ul>
</section>
<section id="the-grammar-of-graphics" class="slide level2">
<h2>The Grammar of Graphics</h2>
<ul>
<li>Visualisation concept created by Wilkinson (1999)
<ul>
<li>to define the basic elements of a statistical graphic</li>
</ul></li>
<li>Adapted for R by Wickham (2009) who created the <code>ggplot2</code> package
<ul>
<li>consistent and compact syntax to describe statistical graphics</li>
<li>highly modular as it breaks up graphs into semantic components</li>
</ul></li>
<li>Is not a guide which graph to choose and how to convey information best!</li>
</ul>
<p>Source: https://rpubs.com/timwinke/ggplot2workshop</p>
</section>
<section id="the-grammar-of-graphics---terminology" class="slide level2">
<h2>The Grammar of Graphics - Terminology</h2>
<p>A statistical graphic is a…</p>
<ul>
<li>mapping of <strong>data</strong></li>
<li>to <strong>aesthetic attributes</strong> (color, size, xy-position)</li>
<li>using <strong>geometric objects</strong> (points, lines, bars)</li>
<li>with data being <strong>statistically transformed</strong> (summarised, log-transformed)</li>
<li>and mapped onto a specific <strong>facet</strong> and <strong>coordinate system</strong></li>
</ul>
</section>
<section id="biker-age-vs.-crash-hour" class="slide level2 smaller">
<h2>Biker age vs.&nbsp;crash hour</h2>

<img data-src="Learn-basics-of-R_files/figure-revealjs/unnamed-chunk-4-1.png" width="480" class="r-stretch"><ul>
<li>Which data is used as an input?</li>
<li>What geometric objects are chosen for visualization?</li>
<li>What variables are mapped onto which attributes?</li>
<li>What type of scales are used to map data to aesthetics?</li>
<li>Are the variables statistically transformed before plotting?</li>
</ul>
</section>
<section id="biker-age-vs.-crash-hour---code" class="slide level2">
<h2>Biker age vs.&nbsp;crash hour - code</h2>

<img data-src="Learn-basics-of-R_files/figure-revealjs/unnamed-chunk-5-1.png" width="480" class="r-stretch"></section>
<section id="altering-features" class="slide level2 smaller">
<h2>Altering features</h2>

<img data-src="Learn-basics-of-R_files/figure-revealjs/unnamed-chunk-6-1.png" width="480" class="r-stretch"><ul>
<li>How did the plot change?</li>
<li>Are these changes based on data (i.e.&nbsp;can be mapped to variables in the dataset) or changes in preferences for geometric objects?</li>
</ul>
</section>
<section id="altering-features---code" class="slide level2">
<h2>Altering features - code</h2>

<img data-src="Learn-basics-of-R_files/figure-revealjs/unnamed-chunk-7-1.png" width="480" class="r-stretch"></section>
<section id="more-alterations" class="slide level2 smaller">
<h2>More alterations</h2>

<img data-src="Learn-basics-of-R_files/figure-revealjs/unnamed-chunk-8-1.png" width="768" class="r-stretch"><ul>
<li>How did the plot change?</li>
<li>Are these changes based on data (i.e.&nbsp;can be mapped to variables in the dataset) or changes in preferences for geometric objects?</li>
</ul>
</section>
<section id="more-alterations---code" class="slide level2 smaller">
<h2>More alterations - code</h2>

<img data-src="Learn-basics-of-R_files/figure-revealjs/unnamed-chunk-9-1.png" width="768" class="r-stretch"></section>
<section id="anatomy-of-ggplots" class="slide level2">
<h2>Anatomy of ggplots</h2>
<pre><code>ggplot(data = [dataframe], aes(x = [var_x], y = [var_y], 
       color = [var_for_color], fill = [var_for_fill], 
       shape = [var_for_shape])) +
    geom_[some_geom] +
    ... # other options</code></pre>
</section>
<section id="histograms" class="slide level2">
<h2>Histograms</h2>

<img data-src="Learn-basics-of-R_files/figure-revealjs/unnamed-chunk-10-1.png" width="672" class="r-stretch"></section>
<section id="boxplots" class="slide level2">
<h2>Boxplots</h2>

<img data-src="Learn-basics-of-R_files/figure-revealjs/unnamed-chunk-11-1.png" width="768" class="r-stretch"></section>
<section id="barplots" class="slide level2">
<h2>Barplots</h2>

<img data-src="Learn-basics-of-R_files/figure-revealjs/unnamed-chunk-12-1.png" width="768" class="r-stretch"></section>
<section id="segmented-barplots" class="slide level2">
<h2>Segmented barplots</h2>

<img data-src="Learn-basics-of-R_files/figure-revealjs/unnamed-chunk-13-1.png" width="864" class="r-stretch"></section>
<section id="segmented-barplots---proportions" class="slide level2">
<h2>Segmented barplots - proportions</h2>

<img data-src="Learn-basics-of-R_files/figure-revealjs/unnamed-chunk-14-1.png" width="864" class="r-stretch"></section>
<section id="more-ggplot2-resources" class="slide level2">
<h2>More <code>ggplot2</code> resources</h2>
<ul>
<li><p>Visit http://docs.ggplot2.org/current/ for documentation on the current version of the <code>ggplot2</code> package. It’s full of examples!</p></li>
<li><p>Refer to the <code>ggplot2</code> <a href="https://www.rstudio.com/wp-content/uploads/2015/08/ggplot2-cheatsheet.pdf">cheatsheet</a>.</p></li>
</ul>
</section></section>
<section>
<section id="data-wrangling" class="title-slide slide level1 center">
<h1>Data wrangling</h1>

</section>
<section id="data-wrangling-in-r" class="slide level2">
<h2>Data wrangling in R</h2>
<ul>
<li><p>Using base R functions</p></li>
<li><p>Using the <code>dplyr</code> package <span class="math inline">\(\leftarrow\)</span> our focus today</p></li>
<li><p>Using a variety of other packages like <code>plyr</code>, <code>tidyr</code>, <code>lubridate</code>, etc.</p></li>
</ul>
</section>
<section id="data-wrangling-with-dplyr" class="slide level2">
<h2>Data wrangling with <code>dplyr</code></h2>
<p>The <code>dplyr</code> package is based on the concepts of functions as verbs that manipulate data frames:</p>
<ul>
<li><code>filter()</code>: pick rows matching criteria</li>
<li><code>select()</code>: pick columns by name</li>
<li><code>rename()</code>: rename specific columns</li>
<li><code>arrange()</code>: reorder rows</li>
<li><code>mutate()</code>: add new variables</li>
<li><code>transmute()</code>: create new data frame with variables</li>
<li><code>sample_n()</code> / <code>sample_frac()</code>: randomly sample rows</li>
<li><code>summarise()</code>: reduce variables to values</li>
</ul>
</section>
<section id="dplyr-rules" class="slide level2">
<h2><code>dplyr</code> rules</h2>
<ul>
<li>First argument is a data frame</li>
<li>Subsequent arguments say what to do with data frame</li>
<li>Always return a data frame</li>
<li>Avoid modify in place</li>
</ul>
</section>
<section id="filter-rows-with-filter" class="slide level2">
<h2>Filter rows with <code>filter()</code></h2>
<ul>
<li>Select a subset of rows in a data frame.</li>
<li>Easily filter for many conditions at once.</li>
</ul>
</section>
<section id="filter" class="slide level2 smaller">
<h2><code>filter()</code></h2>
<p>for crashes in Durham County</p>
<div class="cell">
<pre><code>## # A tibble: 340 × 65
##     ...1 object_id city   county region   develop…¹ local…² on_road rural…³
##    &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;  
##  1    24      2452 Durham Durham Piedmont Resident… Urban … &lt;NA&gt;    Urban  
##  2    28      2441 Durham Durham Piedmont Commerci… Urban … &lt;NA&gt;    Urban  
##  3    37      2466 Durham Durham Piedmont Commerci… Urban … &lt;NA&gt;    Urban  
##  4    63       549 Durham Durham Piedmont Resident… Urban … PARK A… Urban  
##  5    87       598 Durham Durham Piedmont Resident… Urban … BELT S… Urban  
##  6    90       603 Durham Durham Piedmont Resident… Urban … HINSON… Urban  
##  7   144      3974 Durham Durham Piedmont Commerci… Urban … &lt;NA&gt;    Urban  
##  8   231      7134 Durham Durham Piedmont Commerci… Urban … &lt;NA&gt;    Urban  
##  9   336      1670 Durham Durham Piedmont Commerci… Urban … INFINI… Urban  
## 10   351      1773 Durham Durham Piedmont Resident… Urban … &lt;NA&gt;    Urban  
## # … with 330 more rows, 56 more variables: speed_limit &lt;chr&gt;,
## #   traffic_control &lt;chr&gt;, weather &lt;chr&gt;, workzone &lt;chr&gt;, bike_age &lt;dbl&gt;,
## #   bike_age_group &lt;chr&gt;, bike_alcohol &lt;chr&gt;, bike_alcohol_drugs &lt;chr&gt;,
## #   bike_direction &lt;chr&gt;, bike_injury &lt;chr&gt;, bike_position &lt;chr&gt;,
## #   bike_race &lt;chr&gt;, bike_sex &lt;chr&gt;, driver_age &lt;dbl&gt;,
## #   driver_age_group &lt;chr&gt;, driver_alcohol &lt;chr&gt;,
## #   driver_alcohol_drugs &lt;chr&gt;, driver_est_speed &lt;chr&gt;, …
## # ℹ Use `print(n = ...)` to see more rows, and `colnames()` to see all variable names</code></pre>
</div>
</section>
<section id="filter-1" class="slide level2 smaller">
<h2><code>filter()</code></h2>
<p>for crashes in Durham County where biker was &lt; 10 yrs old</p>
<div class="cell">
<pre><code>## # A tibble: 27 × 65
##     ...1 object_id city   county region   develop…¹ local…² on_road rural…³
##    &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;  
##  1    24      2452 Durham Durham Piedmont Resident… Urban … &lt;NA&gt;    Urban  
##  2    63       549 Durham Durham Piedmont Resident… Urban … PARK A… Urban  
##  3   519      2279 Durham Durham Piedmont Resident… Urban … &lt;NA&gt;    Urban  
##  4   827      2431 Durham Durham Piedmont Resident… Urban … &lt;NA&gt;    Urban  
##  5  1072      4611 Durham Durham Piedmont Resident… Urban … &lt;NA&gt;    Urban  
##  6  1147       950 Durham Durham Piedmont Resident… Urban … BERWYN… Urban  
##  7  1767      6773 Durham Durham Piedmont Resident… Urban … &lt;NA&gt;    Urban  
##  8  2429      4106 Durham Durham Piedmont Resident… Urban … &lt;NA&gt;    Urban  
##  9  3337      6485 Durham Durham Piedmont Resident… Mixed … &lt;NA&gt;    Urban  
## 10  3349      6591 Durham Durham Piedmont Resident… Urban … &lt;NA&gt;    Urban  
## # … with 17 more rows, 56 more variables: speed_limit &lt;chr&gt;,
## #   traffic_control &lt;chr&gt;, weather &lt;chr&gt;, workzone &lt;chr&gt;, bike_age &lt;dbl&gt;,
## #   bike_age_group &lt;chr&gt;, bike_alcohol &lt;chr&gt;, bike_alcohol_drugs &lt;chr&gt;,
## #   bike_direction &lt;chr&gt;, bike_injury &lt;chr&gt;, bike_position &lt;chr&gt;,
## #   bike_race &lt;chr&gt;, bike_sex &lt;chr&gt;, driver_age &lt;dbl&gt;,
## #   driver_age_group &lt;chr&gt;, driver_alcohol &lt;chr&gt;,
## #   driver_alcohol_drugs &lt;chr&gt;, driver_est_speed &lt;chr&gt;, …
## # ℹ Use `print(n = ...)` to see more rows, and `colnames()` to see all variable names</code></pre>
</div>
</section>
<section id="commonly-used-logical-operators-in-r" class="slide level2 smaller">
<h2>Commonly used logical operators in R</h2>
<table>
<thead>
<tr class="header">
<th>operator</th>
<th>definition</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>&lt;</code></td>
<td>less than</td>
</tr>
<tr class="even">
<td><code>&lt;=</code></td>
<td>less than or equal to</td>
</tr>
<tr class="odd">
<td><code>&gt;</code></td>
<td>greater than</td>
</tr>
<tr class="even">
<td><code>&gt;=</code></td>
<td>greater than or equal to</td>
</tr>
<tr class="odd">
<td><code>==</code></td>
<td>exactly equal to</td>
</tr>
<tr class="even">
<td><code>!=</code></td>
<td>not equal to</td>
</tr>
<tr class="odd">
<td><code>x | y</code></td>
<td><code>x</code> OR <code>y</code></td>
</tr>
<tr class="even">
<td><code>x &amp; y</code></td>
<td><code>x</code> AND <code>y</code></td>
</tr>
</tbody>
</table>
</section>
<section id="commonly-used-logical-operators-in-r-1" class="slide level2 smaller">
<h2>Commonly used logical operators in R</h2>
<table>
<thead>
<tr class="header">
<th>operator</th>
<th>definition</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>is.na(x)</code></td>
<td>test if <code>x</code> is <code>NA</code></td>
</tr>
<tr class="even">
<td><code>!is.na(x)</code></td>
<td>test if <code>x</code> is not <code>NA</code></td>
</tr>
<tr class="odd">
<td><code>x %in% y</code></td>
<td>test if <code>x</code> is in <code>y</code></td>
</tr>
<tr class="even">
<td><code>!(x %in% y)</code></td>
<td>test if <code>x</code> is not in <code>y</code></td>
</tr>
<tr class="odd">
<td><code>!x</code></td>
<td>not <code>x</code></td>
</tr>
</tbody>
</table>
</section>
<section id="aside-real-data-is-messy" class="slide level2 smaller">
<h2>Aside: real data is messy!</h2>
<div class="question">
<p>What in the world does a <code>bike_age_group</code> of <code>10-Jun</code> or <code>15-Nov</code> mean?</p>
</div>
<div class="cell">
<pre><code>## # A tibble: 12 × 2
##    bike_age_group crash_count
##    &lt;chr&gt;                &lt;int&gt;
##  1 0-5                     86
##  2 11-15                  933
##  3 16-19                  794
##  4 20-24                  910
##  5 25-29                  578
##  6 30-39                  881
##  7 40-49                 1144
##  8 50-59                 1013
##  9 6-10                   537
## 10 60-69                  382
## 11 70+                     96
## 12 &lt;NA&gt;                   113</code></pre>
</div>
</section>
<section id="careful-data-scientists-clean-up-their-data-first" class="slide level2">
<h2>Careful data scientists clean up their data first!</h2>
<ul>
<li>We’re going to need to do some text parsing to clean up these data
<ul>
<li><code>10-Jun</code> should be <code>6-10</code></li>
<li><code>15-Nov</code> should be <code>11-15</code></li>
</ul></li>
<li>New R package: <code>stringr</code></li>
</ul>
</section>
<section id="install-and-load-stringr" class="slide level2">
<h2>Install and load: <code>stringr</code></h2>
<ul>
<li>Install:</li>
</ul>
<div class="cell">

</div>
<ul>
<li>Load:</li>
</ul>
<div class="cell">

</div>
<ul>
<li>Package reference: Most R packages come with a vignette that describe in detail what each function does and how to use them, they’re incredibly useful resources (in addition to other worked out examples on the web) https://cran.r-project.org/web/packages/stringr/vignettes/stringr.html</li>
</ul>
</section>
<section id="replace-with-str_replace-and-add-new-variables-with-mutate" class="slide level2 smaller">
<h2>Replace with <code>str_replace()</code> and add new variables with <code>mutate()</code></h2>
<ul>
<li>Remember we want to do the following in the <code>bike_age_group</code> variable: <code>10-Jun</code> should be <code>6-10</code> and <code>15-Nov</code> should be <code>11-15</code></li>
</ul>
<div class="cell">

</div>
<ul>
<li>Note that we’re overwriting existing data and columns, so be careful!
<ul>
<li>But remember, it’s easy to revert if you make a mistake since we didn’t touch the raw data, we can always reload it and start over</li>
</ul></li>
</ul>
</section>
<section id="check-before-you-move-on" class="slide level2 smaller">
<h2>Check before you move on</h2>
<p>Always check your changes and confirm code did what you wanted it to do</p>
<div class="cell">
<pre><code>## # A tibble: 12 × 2
##    bike_age_group count
##    &lt;chr&gt;          &lt;int&gt;
##  1 0-5               86
##  2 11-15            933
##  3 16-19            794
##  4 20-24            910
##  5 25-29            578
##  6 30-39            881
##  7 40-49           1144
##  8 50-59           1013
##  9 6-10             537
## 10 60-69            382
## 11 70+               96
## 12 &lt;NA&gt;             113</code></pre>
</div>
</section>
<section id="slice-for-certain-row-numbers" class="slide level2 smaller">
<h2><code>slice()</code> for certain row numbers</h2>
<p>First five</p>
<div class="cell">
<pre><code>## # A tibble: 5 × 65
##    ...1 objec…¹ city  county region devel…² local…³ on_road rural…⁴ speed…⁵
##   &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;  
## 1     1    1686 None… Wayne  Coast… Farms,… Rural … SR 1915 Rural   50 - 5…
## 2     2    1674 Hend… Vance  Piedm… Reside… Mixed … NICHOL… Urban   30 - 3…
## 3     3    1673 None… Linco… Piedm… Farms,… Rural … US 321  Rural   50 - 5…
## 4     4    1687 Whit… Colum… Coast… Commer… Urban … W BURK… Urban   30 - 3…
## 5     5    1653 Wilm… New H… Coast… Reside… Urban … RACINE… Urban   &lt;NA&gt;   
## # … with 55 more variables: traffic_control &lt;chr&gt;, weather &lt;chr&gt;,
## #   workzone &lt;chr&gt;, bike_age &lt;dbl&gt;, bike_age_group &lt;chr&gt;,
## #   bike_alcohol &lt;chr&gt;, bike_alcohol_drugs &lt;chr&gt;, bike_direction &lt;chr&gt;,
## #   bike_injury &lt;chr&gt;, bike_position &lt;chr&gt;, bike_race &lt;chr&gt;,
## #   bike_sex &lt;chr&gt;, driver_age &lt;dbl&gt;, driver_age_group &lt;chr&gt;,
## #   driver_alcohol &lt;chr&gt;, driver_alcohol_drugs &lt;chr&gt;,
## #   driver_est_speed &lt;chr&gt;, driver_injury &lt;chr&gt;, driver_race &lt;chr&gt;, …
## # ℹ Use `colnames()` to see all variable names</code></pre>
</div>
</section>
<section id="slice-for-certain-row-numbers-1" class="slide level2 smaller">
<h2><code>slice()</code> for certain row numbers</h2>
<p>Last five</p>
<div class="cell">
<pre><code>## # A tibble: 5 × 65
##    ...1 objec…¹ city  county region devel…² local…³ on_road rural…⁴ speed…⁵
##   &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;  
## 1  7463    6989 High… Guilf… Piedm… Reside… Urban … &lt;NA&gt;    Urban   30 - 3…
## 2  7464    6991 Wilm… New H… Coast… Reside… Urban … &lt;NA&gt;    Urban   30 - 3…
## 3  7465    6995 Kins… Lenoir Coast… Commer… Urban … &lt;NA&gt;    Urban   30 - 3…
## 4  7466    6998 Faye… Cumbe… Coast… Reside… Urban … &lt;NA&gt;    Urban   30 - 3…
## 5  7467    7000 None… Onslow Coast… Farms,… Rural … &lt;NA&gt;    Rural   50 - 5…
## # … with 55 more variables: traffic_control &lt;chr&gt;, weather &lt;chr&gt;,
## #   workzone &lt;chr&gt;, bike_age &lt;dbl&gt;, bike_age_group &lt;chr&gt;,
## #   bike_alcohol &lt;chr&gt;, bike_alcohol_drugs &lt;chr&gt;, bike_direction &lt;chr&gt;,
## #   bike_injury &lt;chr&gt;, bike_position &lt;chr&gt;, bike_race &lt;chr&gt;,
## #   bike_sex &lt;chr&gt;, driver_age &lt;dbl&gt;, driver_age_group &lt;chr&gt;,
## #   driver_alcohol &lt;chr&gt;, driver_alcohol_drugs &lt;chr&gt;,
## #   driver_est_speed &lt;chr&gt;, driver_injury &lt;chr&gt;, driver_race &lt;chr&gt;, …
## # ℹ Use `colnames()` to see all variable names</code></pre>
</div>
</section>
<section id="select-to-keep-only-the-variables-you-mention" class="slide level2 smaller">
<h2><code>select()</code> to keep only the variables you mention</h2>
<div class="cell">
<pre><code>##                       hit_run
## crash_location           No  Yes
##   Intersection         2878  352
##   Intersection-Related  369   72
##   Non-Intersection     2876  587
##   Non-Roadway           281   38
##   Unknown Location        3    7</code></pre>
</div>
</section>
<section id="or-selectto-exclude-variables" class="slide level2 smaller">
<h2>or <code>select()</code>to exclude variables</h2>
<div class="cell">
<pre><code>## # A tibble: 7,467 × 64
##     ...1 city         county region devel…¹ local…² on_road rural…³ speed…⁴
##    &lt;dbl&gt; &lt;chr&gt;        &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;  
##  1     1 None - Rura… Wayne  Coast… Farms,… Rural … SR 1915 Rural   50 - 5…
##  2     2 Henderson    Vance  Piedm… Reside… Mixed … NICHOL… Urban   30 - 3…
##  3     3 None - Rura… Linco… Piedm… Farms,… Rural … US 321  Rural   50 - 5…
##  4     4 Whiteville   Colum… Coast… Commer… Urban … W BURK… Urban   30 - 3…
##  5     5 Wilmington   New H… Coast… Reside… Urban … RACINE… Urban   &lt;NA&gt;   
##  6     6 None - Rura… Robes… Coast… Farms,… Rural … SR 1513 Rural   50 - 5…
##  7     7 None - Rura… Richm… Piedm… Reside… Mixed … SR 1903 Rural   30 - 3…
##  8     8 Raleigh      Wake   Piedm… Commer… Urban … PERSON… Urban   30 - 3…
##  9     9 Whiteville   Colum… Coast… Reside… Rural … FLOWER… Urban   30 - 3…
## 10    10 New Bern     Craven Coast… Reside… Urban … SUTTON… Urban   20 - 2…
## # … with 7,457 more rows, 55 more variables: traffic_control &lt;chr&gt;,
## #   weather &lt;chr&gt;, workzone &lt;chr&gt;, bike_age &lt;dbl&gt;, bike_age_group &lt;chr&gt;,
## #   bike_alcohol &lt;chr&gt;, bike_alcohol_drugs &lt;chr&gt;, bike_direction &lt;chr&gt;,
## #   bike_injury &lt;chr&gt;, bike_position &lt;chr&gt;, bike_race &lt;chr&gt;,
## #   bike_sex &lt;chr&gt;, driver_age &lt;dbl&gt;, driver_age_group &lt;chr&gt;,
## #   driver_alcohol &lt;chr&gt;, driver_alcohol_drugs &lt;chr&gt;,
## #   driver_est_speed &lt;chr&gt;, driver_injury &lt;chr&gt;, driver_race &lt;chr&gt;, …
## # ℹ Use `print(n = ...)` to see more rows, and `colnames()` to see all variable names</code></pre>
</div>
</section>
<section id="rename-specific-columns" class="slide level2 smaller">
<h2><code>rename()</code> specific columns</h2>
<p>Correct typos and rename to make variable names shorter and/or more informative</p>
<ul>
<li>Original names:</li>
</ul>
<div class="cell">
<pre><code>##  [1] "...1"                 "object_id"            "city"                
##  [4] "county"               "region"               "development"         
##  [7] "locality"             "on_road"              "rural_urban"         
## [10] "speed_limit"          "traffic_control"      "weather"             
## [13] "workzone"             "bike_age"             "bike_age_group"      
## [16] "bike_alcohol"         "bike_alcohol_drugs"   "bike_direction"      
## [19] "bike_injury"          "bike_position"        "bike_race"           
## [22] "bike_sex"             "driver_age"           "driver_age_group"    
## [25] "driver_alcohol"       "driver_alcohol_drugs" "driver_est_speed"    
## [28] "driver_injury"        "driver_race"          "driver_sex"          
## [31] "driver_vehicle_type"  "crash_alcohol"        "crash_date"          
## [34] "crash_day"            "crash_group"          "crash_hour"          
## [37] "crash_location"       "crash_month"          "crash_severity"      
## [40] "crash_time"           "crash_type"           "crash_year"          
## [43] "ambulance_req"        "hit_run"              "light_condition"     
## [46] "road_character"       "road_class"           "road_condition"      
## [49] "road_configuration"   "road_defects"         "road_feature"        
## [52] "road_surface"         "num_bikes_ai"         "num_bikes_bi"        
## [55] "num_bikes_ci"         "num_bikes_ki"         "num_bikes_no"        
## [58] "num_bikes_to"         "num_bikes_ui"         "num_lanes"           
## [61] "num_units"            "distance_mi_from"     "frm_road"            
## [64] "rte_invd_cd"          "towrd_road"</code></pre>
</div>
<ul>
<li>Rename <code>Speed_Limi</code> to <code>Speed_Limit</code>:</li>
</ul>
<div class="cell">

</div>
</section>
<section id="check-before-you-move-on-1" class="slide level2 smaller">
<h2>Check before you move on</h2>
<p>Always check your changes and confirm code did what you wanted it to do</p>
<div class="cell">
<pre><code>##  [1] "...1"                 "object_id"            "city"                
##  [4] "county"               "region"               "development"         
##  [7] "locality"             "on_road"              "rural_urban"         
## [10] "speed_limit"          "traffic_control"      "weather"             
## [13] "workzone"             "bike_age"             "bike_age_group"      
## [16] "bike_alcohol"         "bike_alcohol_drugs"   "bike_direction"      
## [19] "bike_injury"          "bike_position"        "bike_race"           
## [22] "bike_sex"             "driver_age"           "driver_age_group"    
## [25] "driver_alcohol"       "driver_alcohol_drugs" "driver_est_speed"    
## [28] "driver_injury"        "driver_race"          "driver_sex"          
## [31] "driver_vehicle_type"  "crash_alcohol"        "crash_date"          
## [34] "crash_day"            "crash_group"          "crash_hour"          
## [37] "crash_location"       "crash_month"          "crash_severity"      
## [40] "crash_time"           "crash_type"           "crash_year"          
## [43] "ambulance_req"        "hit_run"              "light_condition"     
## [46] "road_character"       "road_class"           "road_condition"      
## [49] "road_configuration"   "road_defects"         "road_feature"        
## [52] "road_surface"         "num_bikes_ai"         "num_bikes_bi"        
## [55] "num_bikes_ci"         "num_bikes_ki"         "num_bikes_no"        
## [58] "num_bikes_to"         "num_bikes_ui"         "num_lanes"           
## [61] "num_units"            "distance_mi_from"     "frm_road"            
## [64] "rte_invd_cd"          "towrd_road"</code></pre>
</div>
</section>
<section id="summarise-in-a-new-data-frame" class="slide level2 smaller">
<h2><code>summarise()</code> in a new data frame</h2>
<div class="cell">
<pre><code>## # A tibble: 12 × 2
##    bike_age_group crash_count
##    &lt;chr&gt;                &lt;int&gt;
##  1 0-5                     86
##  2 70+                     96
##  3 &lt;NA&gt;                   113
##  4 60-69                  382
##  5 6-10                   537
##  6 25-29                  578
##  7 16-19                  794
##  8 30-39                  881
##  9 20-24                  910
## 10 11-15                  933
## 11 50-59                 1013
## 12 40-49                 1144</code></pre>
</div>
</section>
<section id="and-arrange-to-order-rows" class="slide level2 smaller">
<h2>and <code>arrange()</code> to order rows</h2>
<div class="cell">
<pre><code>## # A tibble: 12 × 2
##    bike_age_group crash_count
##    &lt;chr&gt;                &lt;int&gt;
##  1 40-49                 1144
##  2 50-59                 1013
##  3 11-15                  933
##  4 20-24                  910
##  5 30-39                  881
##  6 16-19                  794
##  7 25-29                  578
##  8 6-10                   537
##  9 60-69                  382
## 10 &lt;NA&gt;                   113
## 11 70+                     96
## 12 0-5                     86</code></pre>
</div>
</section>
<section id="select-rows-with-sample_n-or-sample_frac" class="slide level2 smaller">
<h2>Select rows with <code>sample_n()</code> or <code>sample_frac()</code></h2>
<ul>
<li><code>sample_n()</code>: randomly sample 5 observations</li>
</ul>
<div class="cell">
<pre><code>## [1]  5 65</code></pre>
</div>
<ul>
<li><code>sample_frac()</code>: randomly sample 20% of observations</li>
</ul>
<div class="cell">
<pre><code>## [1] 1493   65</code></pre>
</div>
</section>
<section id="more-dplyr-resources" class="slide level2">
<h2>More <code>dplyr</code> resources</h2>
<ul>
<li><p>Visit https://cran.r-project.org/web/packages/dplyr/vignettes/introduction.html for the package vignette.</p></li>
<li><p>Refer to the <code>dplyr</code> <a href="https://www.rstudio.com/wp-content/uploads/2015/02/data-wrangling-cheatsheet.pdf">cheatsheet</a>.</p></li>
</ul>
</section></section>
<section>
<section id="basic-r-syntax" class="title-slide slide level1 center">
<h1>Basic R syntax</h1>

</section>
<section id="few-important-r-syntax-notes" class="slide level2">
<h2>Few important R syntax notes</h2>
<p>For when not working with <code>dplyr</code> or <code>ggplot2</code></p>
<ul>
<li><p>Refer to a variable in a dataset as <code>bike$crash_location</code></p></li>
<li><p>Access any element in a dataframe using square brackets</p></li>
</ul>
<div class="cell">
<pre><code>## # A tibble: 1 × 1
##   region 
##   &lt;chr&gt;  
## 1 Coastal</code></pre>
</div>
<pre><code>- For all observations in row 1: `bike[1, ]`
- For all observations in column 5: `bike[, 5]`</code></pre>
</section></section>
<section>
<section id="whats-next" class="title-slide slide level1 center">
<h1>What’s next?</h1>

</section>
<section id="want-more-r" class="slide level2 smaller">
<h2>Want more R?</h2>
<ul>
<li>Local install
<ul>
<li>R: https://cran.r-project.org/</li>
<li>RStudio: https://www.rstudio.com/products/RStudio/#Desktop</li>
</ul></li>
<li>Resources for learning R:
<ul>
<li><a href="https://www.coursera.org/">Coursera</a></li>
<li><a href="https://www.datacamp.com/">DataCamp</a></li>
<li>Many many online demos, resources, examples, as well as books</li>
</ul></li>
<li>Debugging R errors:
<ul>
<li>Read the error!</li>
<li><a href="http://stackoverflow.com/">StackOverflow</a></li>
</ul></li>
<li>Keeping up with what’s new in R land:
<ul>
<li><a href="http://www.r-bloggers.com/">R-bloggers</a></li>
<li>Twitter: #rstats</li>
</ul></li>
</ul>
</section></section>
<section>
<section id="exercise" class="title-slide slide level1 center">
<h1>Exercise</h1>

</section>
<section id="your-turn-4" class="slide level2">
<h2>Your turn</h2>
<p>Create a new dataframe that doesn’t include observations where <code>bike_injury = Injury</code> since it’s not clear what this means.</p>
<p>This new dataframe also should include observations in Durham, and where the biker is a teenager (13 to 19 years, inclusive).</p>
<p>Create a visualization that will help answer whether facing traffic or riding with traffic (<code>Bike_Dir</code>) is more dangerous in bike crashes for teenagers in Durham, based on the <code>bike_injury</code> variable.</p>
<div class="footer footer-default">

</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="Learn basics of R_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="Learn basics of R_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="Learn basics of R_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="Learn basics of R_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="Learn basics of R_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="Learn basics of R_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="Learn basics of R_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="Learn basics of R_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="Learn basics of R_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="Learn basics of R_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        function fireSlideChanged(previousSlide, currentSlide) {

          // dispatch for htmlwidgets
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for reveal
        if (window.Reveal) {
          window.Reveal.addEventListener("slidechanged", function(event) {
            fireSlideChanged(event.previousSlide, event.currentSlide);
          });
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        setTimeout(function() {
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          let href = ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const cites = ref.parentNode.getAttribute('data-cites').split(' ');
        tippyHover(ref, function() {
          var popup = window.document.createElement('div');
          cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    });
    </script>
    

</body></html>